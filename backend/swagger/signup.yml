tags:
  - Authentication
summary: Register a new user
description: Creates a new user account with the provided email, username, password, and profile details
operationId: signup
consumes:
  - application/json
produces:
  - application/json
parameters:
  - in: body
    name: body
    description: User registration details
    required: true
    schema:
      type: object
      required:
        - email
        - username
        - password
        - birth_date
        - gender
      properties:
        email:
          type: string
          format: email
          example: user@example.com
          description: User's email address
        username:
          type: string
          example: johndoe
          description: Unique username for the user
        password:
          type: string
          format: password
          example: Password123!
          description: User's password
        full_name:
          type: string
          example: John Doe
          description: User's full name (optional)
        birth_date:
          type: string
          format: date
          example: 2000-01-01
          description: User's birth date in YYYY-MM-DD format
        gender:
          type: string
          enum: [male, female, other]
          example: male
          description: User's gender
        parent_email:
          type: string
          format: email
          example: parent@example.com
          description: Parent's email address (optional)
responses:
  201:
    description: User registered successfully
    schema:
      type: object
      properties:
        message:
          type: string
          example: User registered successfully
        user_id:
          type: integer
          example: 1
        email:
          type: string
          example: user@example.com
        username:
          type: string
          example: johndoe
  400:
    description: Missing required fields or invalid request body
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Missing required fields: email, password"
  409:
    description: Email or username already exists
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Email already exists"
  422:
    description: Invalid input data (e.g., birth date format or age validation)
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Invalid birth_date format, use YYYY-MM-DD"
  500:
    description: Server error
    schema:
      type: object
      properties:
        error:
          type: string
          example: "An unexpected error occurred"