
tags:
  - Authentication
summary: User login
description: Authenticate a user and return a JWT token
operationId: login
consumes:
  - application/json
produces:
  - application/json
parameters:
  - in: body
    name: body
    description: User login credentials
    required: true
    schema:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          example: johndoe
          description: User's username
        password:
          type: string
          format: password
          example: Password123!
          description: User's password
responses:
  200:
    description: Login successful
    schema:
      type: object
      properties:
        message:
          type: string
          example: Login successful
        access_token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        user:
          type: object
          properties:
            user_id:
              type: integer
              example: 1
            email:
              type: string
              example: user@example.com
            username:
              type: string
              example: johndoe
            user_role:
              type: string
              example: user
            parent_email:
              type: string
              example: parent@example.com
              nullable: true
            is_premium_user:
              type: boolean
              example: false
  400:
    description: Missing required fields
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Username and password are required"
  401:
    description: Invalid credentials
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Invalid username"
  500:
    description: Server error
    schema:
      type: object
      properties:
        error:
          type: string
          example: "An unexpected error occurred"